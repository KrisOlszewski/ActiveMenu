/**
 * active-menu.min.js
 * Author & copyright (c) 2013: Kris Olszewski
 * Dual MIT & GPL license
 *
 * Repo: https://github.com/KrisOlszewski/ActiveMenu/
 */
(function(e,t,n,r){if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}var i={init:function(n,r){var i=this;i.options=e.extend({},e.fn.setActiveMenu.options,n);i.pathname=t.location.pathname;i.pathname=i.split(i.pathname);i.pathname=i.cleanup(i.pathname);i.pathname=i.drop(i.pathname);i.link=e(r).find("a");i.link.each(function(){i.display(this)})},split:function(e){return e.split("/")},cleanup:function(t){return e.grep(t,function(e){return e!==""})},drop:function(t){return e.each(t,function(e){return t[e]=t[e].substr(0,t[e].lastIndexOf("."))||t[e]})},display:function(t){var n=this,i=e(t),s=i.attr("href"),o=n.options.parent?i.parent():i;if(s===r){return}s=n.split(s);s=n.cleanup(s);s=n.drop(s);var u=s.length===0&&n.pathname.length===0,a=s.length===0&&n.pathname.length===1&&n.pathname[0]==="index";if(u||a){return o.addClass(n.options.indicator)}else{var f=s[s.length-1];return e.each(n.pathname,function(e,t){if(f===t){return o.addClass(n.options.indicator)}})}}};e.fn.setActiveMenu=function(e){return this.each(function(){var t=Object.create(i);t.init(e,this)})};e.fn.setActiveMenu.options={parent:true,indicator:"active"}})(jQuery,window,document)
